# 比赛事宜通知

## 1. 数据库设计

在张颖学姐设计的基础之上，我又添加了两个表

* 任务表

  ```sql
  CREATE TABLE `task` (
    `id` bigint NOT NULL AUTO_INCREMENT COMMENT '任务ID',
    `title` varchar(200) NOT NULL COMMENT '任务标题',
    `content` text COMMENT '任务内容',
    `principal_id` bigint NOT NULL COMMENT '负责人ID',
    `member_id` bigint NOT NULL COMMENT '成员ID',
    `deadline` datetime COMMENT '截止时间',
    `status` tinyint NOT NULL DEFAULT '0' COMMENT '状态(0-未开始,1-进行中,2-已完成)',
    `create_time` datetime NOT NULL COMMENT '创建时间',
    `update_time` datetime NOT NULL COMMENT '更新时间',
    PRIMARY KEY (`id`)
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='科研任务表';
  ```

* 成果共享表

  ```sql
  CREATE TABLE `task_achievement` (
    `id` bigint NOT NULL AUTO_INCREMENT COMMENT '成果ID',
    `task_id` bigint NOT NULL COMMENT '任务ID',
    `user_id` bigint NOT NULL COMMENT '上传用户ID',
    `title` varchar(200) NOT NULL COMMENT '成果标题',
    `description` text COMMENT '成果描述',
    `file_url` varchar(500) COMMENT '文件路径',
    `file_name` varchar(200) COMMENT '文件名',
    `create_time` datetime NOT NULL COMMENT '创建时间',
    PRIMARY KEY (`id`)
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='任务成果共享表';
  ```

* 后续可添加通知表
* ![image-20250812204117046](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250812204117046.png)

![image-20250812204252439](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250812204252439.png)

## 2.后端

进入代码生成器

![image-20250812204637628](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250812204637628.png)

生成代码，接入后端

刷新项目

![image-20250812211802849](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250812211802849.png)

* 创建比赛管理：

1. 在 Navicat 中，双击打开 `ry-vue` 数据库 → 展开 “表” → 找到 `sys_menu` 表 → 右键 “打开表”。
2. 在表中找到 `menu_name` 为 “系统管理” 的行，记录其 `id` 字段值为1

![image-20250812225451904](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250812225451904.png)

3. 添加“比赛管理” 父目录
   在 `sys_menu` 表中，点击 “新增行”，具体填写看ruoyi_ui路径
4. 新建“比赛管理”父组件 index.vue文件
5. 配置父路由（比赛管理），后续要展示页面在配置

![image-20250813150535529](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250813150535529.png)![image-20250813150551703](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250813150551703.png)

![image-20250813150606128](C:\Users\刘佳璐\AppData\Roaming\Typora\typora-user-images\image-20250813150606128.png)

![image-20250814181938788](C:/Users/刘佳璐/AppData/Roaming/Typora/typora-user-images/image-20250814181938788.png)
